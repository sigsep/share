(function(t){function e(e){for(var r,l,i=e[0],s=e[1],c=e[2],d=0,p=[];d<i.length;d++)l=i[d],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&p.push(o[l][0]),o[l]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,i=1;i<a.length;i++){var s=a[i];0!==o[s]&&(r=!1)}r&&(n.splice(e--,1),t=l(l.s=a[0]))}return t}var r={},o={app:0},n=[];function l(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=r,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(a,r,function(e){return t[e]}.bind(null,r));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=s;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"053d":function(t,e,a){},1:function(t,e){},4301:function(t,e,a){},"46a0":function(t,e,a){"use strict";a("f9fb")},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"db",(function(){return Vt}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],l={name:"app"},i=l,s=(a("7faf"),a("0c7c")),c=Object(s["a"])(i,o,n,!1,null,null,null),u=c.exports,d=a("ce5b"),p=a.n(d);a("bf40");r["default"].use(p.a,{iconfont:"mdi"});var f=new p.a({theme:{dark:!0},icons:{iconfont:"mdi"}}),m=a("260b"),h=(a("e71f"),{apiKey:"AIzaSyADWYMOw008gPfxtgK0nHhqbc4LOIPofcs",authDomain:"share-unmix.firebaseapp.com",databaseURL:"https://share-unmix.firebaseio.com",projectId:"share-unmix",storageBucket:"share-unmix.appspot.com",messagingSenderId:"498455374647",appId:"1:498455374647:web:6fc65bd70325918e3e88b2",measurementId:"G-JG8WF1E2X9"}),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"","clipped-left":""}},[a("v-toolbar-title",[t._v("share.unmix.app (beta)")]),a("v-spacer"),a("v-btn",{attrs:{color:"indigo lighten-1"},on:{click:function(e){return t.$router.push("create")}}},[a("v-icon",[t._v("mdi-plus")]),t._v(" Create multi-track ")],1)],1),a("v-main",[a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{align:"center"}},[a("img",{attrs:{src:"/hero.png",width:"100%",alt:""}}),a("iframe",{staticStyle:{"max-width":"800px"},attrs:{width:"100%",height:"400px",src:"https://share.unmix.app/nFngXqmpUIMVo9JCv3tc",frameborder:"0"}})])],1)],1)],1),a("v-footer",{attrs:{dark:"",padless:""}},[a("v-card",{staticClass:"indigo lighten-1 white--text text-center",attrs:{flat:"",tile:""}},[a("v-card-text",{staticClass:"white--text pt-0 ma-2"},[t._v(" Note that this service is provided free of charge by the sigsep open-source community. We do not collect any personal data except for the data that is added by the user. All data is anonimzed and contains no private information like IP addresses. We not have any legal right to the urls that will be shared with this service. The user must not use this service to share copyright protected material. We also provide no guarantee that the service is available or functional. Please use it at your own risk. ")]),a("v-divider"),a("v-card-text",{staticClass:"white--text"},[t._v(" "+t._s((new Date).getFullYear())+" â€” "),a("strong",[t._v("sigsep")])])],1)],1)],1)},y=[],b={components:{},data:function(){return{}},mounted:function(){}},g=b,k=a("6544"),x=a.n(k),w=a("7496"),S=a("40dc"),C=a("8336"),V=a("b0af"),P=a("99d9"),O=a("62ad"),T=a("a523"),j=a("ce7e"),E=a("553a"),$=a("132d"),M=a("f6c4"),L=a("0fd9"),z=a("2fa4"),I=a("2a7f"),U=Object(s["a"])(g,v,y,!1,null,null,null),R=U.exports;x()(U,{VApp:w["a"],VAppBar:S["a"],VBtn:C["a"],VCard:V["a"],VCardText:P["b"],VCol:O["a"],VContainer:T["a"],VDivider:j["a"],VFooter:E["a"],VIcon:$["a"],VMain:M["a"],VRow:L["a"],VSpacer:z["a"],VToolbarTitle:I["a"]});var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app",dark:""}},[a("v-app-bar",{attrs:{app:"","clipped-left":""}},[a("v-toolbar-title",[t._v("share.unmix.app")])],1),a("v-content",[a("v-form",{attrs:{dense:""}},[a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-menu",{ref:"titlecolormenu",attrs:{"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{icon:"",fab:""}},r),[a("v-icon",[t._v("mdi-palette")])],1)]}}]),model:{value:t.titleColorMenu,callback:function(e){t.titleColorMenu=e},expression:"titleColorMenu"}},[t.titleColorMenu?a("v-color-picker",{staticClass:"ma-2",on:{click:function(e){return t.$refs.titlecolormenu.save(t.playerconf.titleColor)}},model:{value:t.playerconf.titleColor,callback:function(e){t.$set(t.playerconf,"titleColor",e)},expression:"playerconf.titleColor"}}):t._e()],1)],1),a("v-col",{attrs:{dense:"",cols:"12",md:"11"}},[a("v-text-field",{attrs:{label:"Track title",solo:"",dense:"","background-color":t.playerconf.titleColor,placeholder:"Track title"},model:{value:t.playerconf.title,callback:function(e){t.$set(t.playerconf,"title",e)},expression:"playerconf.title"}})],1)],1),a("v-sheet",{attrs:{rounded:"lg"}},t._l(t.playerconf.streams,(function(e,r){return a("v-row",{key:r},[a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-menu",{ref:"stemmenu",refInFor:!0,attrs:{"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{icon:"",fab:""}},r),[a("v-icon",[t._v("mdi-palette")])],1)]}}],null,!0),model:{value:e.menu,callback:function(a){t.$set(e,"menu",a)},expression:"stem.menu"}},[e.menu?a("v-color-picker",{staticClass:"ma-2",on:{click:function(a){return t.$refs.stemmenu.save(e.color)}},model:{value:e.color,callback:function(a){t.$set(e,"color",a)},expression:"stem.color"}}):t._e()],1)],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"Source Name",solo:"",dense:"","background-color":e.color,placeholder:"Source Name"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"stem.name"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"URL",dense:"",placeholder:"URL",rules:[t.rules.required,t.rules.url],"prepend-icon":e.is_dropbox?"mdi-dropbox":""},model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"stem.url"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-switch",{attrs:{label:"mute",color:"red",inset:"",dense:""},model:{value:e.mute,callback:function(a){t.$set(e,"mute",a)},expression:"stem.mute"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-switch",{attrs:{label:"solo",color:"green",inset:"",dense:""},model:{value:e.solo,callback:function(a){t.$set(e,"solo",a)},expression:"stem.solo"}})],1),a("v-col",[a("v-btn",{attrs:{color:"red",small:"",dense:"",fab:""},on:{click:function(e){return t.closeButton(r)}}},[a("v-icon",[t._v("mdi-minus")])],1)],1)],1)})),1),a("p"),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"Switch mode"},model:{value:t.playerconf.exclSolo,callback:function(e){t.$set(t.playerconf,"exclSolo",e)},expression:"playerconf.exclSolo"}})],1),a("v-col",{attrs:{cols:"12",md:"9"}},[t._v(" Zoom: "+t._s(Math.round(10*(t.playerconf.zoom/44100*980+Number.EPSILON))/10)+"s "),a("v-slider",{staticClass:"align-center",attrs:{max:8192,min:224},model:{value:t.playerconf.zoom,callback:function(e){t.$set(t.playerconf,"zoom",e)},expression:"playerconf.zoom"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-btn",{attrs:{color:"primary",fab:"",disabled:t.allFilled},on:{click:t.addButton}},[a("v-icon",[t._v("mdi-plus")])],1)],1)],1)],1)],1)],1)],1),a("v-btn",{attrs:{disabled:t.allFilled||!t.allvalid||!t.confChanged,color:"green"},on:{click:t.loadTracks}},[t._v(" Preview Track ")]),t.showPlayer?a("v-content",{staticStyle:{"background-color":"white",padding:"0px 10px 10px"}},[a("v-container",{attrs:{"fill-height":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[t.enableShare?a("v-btn",{staticStyle:{"margin-right":"0em"},attrs:{color:"primary",left:"",large:""},on:{click:t.insertTracks}},[t._v(" Share ")]):t._e()],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-switch",{attrs:{light:"",label:"embed",dense:""},model:{value:t.embedSwitch,callback:function(e){t.embedSwitch=e},expression:"embedSwitch"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{value:t.shareURL,light:"",disabled:t.enableShare,outlined:"",label:"Share URL",readonly:""}})],1)],1),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",[a("v-sheet",{attrs:{margin:"auto",elevation:"10"}},[a("Player",{key:t.combKey,ref:"player",attrs:{urls:t.tracklist,conf:t.playerconf}})],1)],1)],1)],1)],1):t._e()],1)},B=[],D=a("1da1"),F=a("3835"),K=a("b85c"),N=(a("96cf"),a("4d63"),a("ac1f"),a("25f0"),a("d3b7"),a("a434"),a("ddb0"),a("b0c0"),a("2ca0"),a("fb6a"),a("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{dark:"","fill-height":""}},[a("v-toolbar",{attrs:{color:t.conf.titleColor}},[a("v-btn",{staticStyle:{"margin-left":"2px"},attrs:{color:"green accent-3",icon:"",outlined:"",large:"",loading:t.isLoading},on:{click:t.playpause}},[t.isPlaying?a("v-icon",[t._v("mdi-pause")]):a("v-icon",[t._v("mdi-play")])],1),a("v-toolbar-title",{staticClass:"white--text"},[t._v(" "+t._s(t.title)+" ")]),a("v-spacer"),a("v-dialog",{attrs:{dark:"",scrollable:"","max-width":"640px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"white",dark:"",icon:"",top:"",left:""}},"v-btn",o,!1),r),[a("v-icon",[t._v("mdi-information")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v("About share.unmix.app")]),a("v-divider"),a("v-card-text",{staticStyle:{height:"300px"}},[a("div",{staticStyle:{"margin-bottom":"-10px","margin-top":"5px"}},[a("b",[t._v("Keyboard Shortcuts")]),t._v(": Play/Pause: "),a("kbd",[t._v("Space")]),t._v(" â€“ Solo/Unsolo Sources: "),t._l(t.NumberOfTracks,(function(e){return a("kbd",{key:e.id},[t._v(t._s(e))])})),t._v(" â€“ Mute/Unmute Sources: "),a("kbd",[t._v("Ctrl")]),t._v(" + "),t._l(t.NumberOfTracks,(function(e){return a("kbd",{key:e.id},[t._v(t._s(e))])}))],2)]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1),a("v-card-text",{staticClass:"text-center",staticStyle:{"padding-left":"0px","padding-right":"0px","padding-bottom":"26px"}},[a("div",{ref:"playlist",style:t.cssProps,attrs:{id:"playlist"}}),a("p",{staticClass:"createdwith"},[t._v("Created with "),a("a",{attrs:{href:"https://share.unmix.app"}},[t._v("share.unmix.app")])])])],1)],1)}),W=[],J=a("8a60"),q=a.n(J),H=a("2ef0"),G=a.n(H),X=a("132e"),Y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1280,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.playlist=X["init"]({samplesPerPixel:e,waveHeight:60,container:t,timescale:!0,mono:!0,exclSolo:a,isAutomaticScroll:!0,state:"cursor",colors:{waveOutlineColor:"black"},controls:{show:!0,width:140,widgets:{remove:!1,collapse:!1}},zoomLevels:[e]})};Y.prototype.loadTargets=function(t){this.playlist.getEventEmitter().emit("stop"),this.playlist.clear(),this.playlist.tracks=[];var e,a=[],r=Object(K["a"])(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;a.push({src:o.src,name:o.name,muted:o.mute,customClass:o.customClass,soloed:o.solo})}}catch(n){r.e(n)}finally{r.f()}this.playlist.load(a)},Y.prototype.addTrack=function(t){this.playlist.load([{src:t.src,name:t.name,muted:t.mute,customClass:t.customClass,soloed:t.solo}])};var Z=Y,Q=(a("4301"),{name:"player",components:{},props:{urls:Array,conf:Object},data:function(){return{trackColors:[],isPlaying:!1,isLoading:!1,player:Object,loaderColor:"orange",loaderHeight:"26px",playbackPosition:0,lastplaybackPosition:0,dialog:!1}},mounted:function(){q.a.bind("space",this.playpause),this.initOrUpdate()},beforeDestroy:function(){q.a.unbind("space");for(var t=0;t<this.player.playlist.tracks.length;++t)(function(t){q.a.unbind(String(t+1))})(t);this.stop(),delete this.player},methods:{initOrUpdate:function(){this.player=new Z(this.$refs.playlist,this.conf.zoom,this.conf.exclSolo);var t=this.$refs.playlist;if(t.style.setProperty("width",100),this.player.playlist.getEventEmitter().on("audiosourcesloaded",this.audioLoaded),1!=this.isLoading){this.saveState(),this.stop(),this.isLoading=!0,this.player.loadTargets(this.urls);for(var e=0;e<this.urls.length;++e)(function(t,e){e.trackColors.push(e.urls[t].color),q.a.bind(String(t+1),(function(){e.player.playlist.getEventEmitter().emit("solo",e.player.playlist.tracks[t])})),q.a.bind(["ctrl+"+String(t+1),"meta+"+String(t+1)],(function(){e.player.playlist.getEventEmitter().emit("mute",e.player.playlist.tracks[t])}))})(e,this)}},saveState:function(){this.lastplaybackPosition=this.playbackPosition},playpause:function(t){return this.isPlaying?this.player.playlist.getEventEmitter().emit("pause"):(this.player.playlist.getEventEmitter().emit("play"),this.player.playlist.getEventEmitter().on("finished",this.stop)),this.isPlaying=!this.isPlaying,t.stopPropagation(),!1},stop:function(){this.player.playlist.getEventEmitter().emit("stop"),this.isPlaying=!1},audioLoaded:function(){this.isLoading=!1},updateTime:function(t){this.playbackPosition=t},debounceInitOrUpdate:G.a.debounce((function(){this.initOrUpdate()}),600)},computed:{title:function(){return"undefined"===typeof this.conf?"Empty Track":this.conf.title},NumberOfTracks:function(){return"undefined"===typeof this.player.playlist?0:this.player.playlist.tracks.length},cssProps:function(){for(var t={},e=0;e<this.urls.length;++e)console.log(e),t["--track"+e.toString()]=this.trackColors[e];return t}},watch:{urls:{handler:"debounceInitOrUpdate"}}}),tt=Q,et=(a("6131"),a("169a")),at=a("71d9"),rt=Object(s["a"])(tt,N,W,!1,null,null,null),ot=rt.exports;x()(rt,{VBtn:C["a"],VCard:V["a"],VCardActions:P["a"],VCardText:P["b"],VCardTitle:P["c"],VDialog:et["a"],VDivider:j["a"],VIcon:$["a"],VSpacer:z["a"],VToolbar:at["a"],VToolbarTitle:I["a"]});var nt=a("8e73")("lzw"),lt={name:"Home",components:{Player:ot},data:function(){var t=this;return{dark:!0,player:null,combKey:42,showPlayer:!1,enableShare:!0,confChanged:!1,allvalid:!1,routeId:"",titleColorMenu:!1,embedSwitch:!1,rules:{required:function(t){return!!t||"Required."},url:function(e){return t.validURL(e)||"Invalid URL."}},playerconf:{title:"My Track title",zoom:990,titleColor:"#666666",dark:!0,exclSolo:!1,streams:[{name:"vocals",url:"",color:"#000000",mute:!1,solo:!1,menu:!1,is_dropbox:!1}]},trackstoload:[],tracklist:[]}},mounted:function(){},created:function(){},methods:{validURL:function(t){var e=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!e.test(t)},addButton:function(){this.playerconf.streams.length<=10&&this.playerconf.streams.push({name:"",url:"",color:"#"+Math.floor(16777215*Math.random()).toString(16),menu:!1})},closeButton:function(t){this.playerconf.streams.splice(t,1)},loadTracks:_.debounce((function(){this.showPlayer=!0,this.confChanged=!1,this.combKey=Math.ceil(1e4*Math.random());var t,e=[],a=Object(K["a"])(this.playerconf.streams.entries());try{for(a.s();!(t=a.n()).done;){var r=Object(F["a"])(t.value,2),o=r[0],n=r[1];e.push({name:n.name,color:n.color,customClass:"track"+o.toString(),solo:n.solo,mute:n.mute,src:n.url})}}catch(l){a.e(l)}finally{a.f()}this.tracklist=e}),600),insertTracks:function(){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Vt.collection("multitracks").add(t.playerconf);case 2:a=e.sent,nt.compress(t.playerconf).then((function(t){return console.log(t)})),t.routeId="/"+a.id,t.enableShare=!1;case 6:case"end":return e.stop()}}),e)})))()}},computed:{embed:function(){return this.embedSwitch?"/embed":""},shareURL:function(){return"https://share.unmix.app"+this.routeId+this.embed},playersize:function(){return 1},title:function(){return this.playerconf.title},allFilled:function(){return this.playerconf.streams.some((function(t){return""===t.url}))}},watch:{playerconf:{deep:!0,handler:function(){this.confChanged=!0,this.allvalid=!1;var t,e=Object(K["a"])(this.playerconf.streams.entries());try{for(e.s();!(t=e.n()).done;){var a=Object(F["a"])(t.value,2),r=a[0],o=a[1];if(this.validURL(o.url))if(this.allvalid=!0,this.enableShare=!0,o.url.startsWith("https://www.dropbox.com/s")){this.playerconf.streams[r].is_dropbox=!0;var n=o.url.split("/").slice(4,6);o.url="https://dl.dropboxusercontent.com/s/"+n[0]+"/"+n[1]}else o.url.startsWith("https://dl.dropboxusercontent.com/s/")?this.playerconf.streams[r].is_dropbox=!0:this.playerconf.streams[r].is_dropbox=!1;else this.allvalid=!1}}catch(l){e.e(l)}finally{e.f()}}}}},it=lt,st=(a("af4f"),a("03a4")),ct=a("a75b"),ut=a("4bd4"),dt=a("e449"),pt=a("8dd9"),ft=a("ba0d"),mt=a("b73d"),ht=a("8654"),vt=Object(s["a"])(it,A,B,!1,null,null,null),yt=vt.exports;x()(vt,{VApp:w["a"],VAppBar:S["a"],VBtn:C["a"],VCol:O["a"],VColorPicker:st["a"],VContainer:T["a"],VContent:ct["a"],VForm:ut["a"],VIcon:$["a"],VMenu:dt["a"],VRow:L["a"],VSheet:pt["a"],VSlider:ft["a"],VSwitch:mt["a"],VTextField:ht["a"],VToolbarTitle:I["a"]});var bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.embed?[a("v-app",{staticClass:"ma-0 pa-0"},[a("v-container",{staticClass:"ma-0 pa-0",attrs:{fluid:""}},[a("v-row",[a("v-col",{staticStyle:{"padding-bottom":"0px"}},[a("v-container",{staticClass:"ma-0 pa-0",attrs:{fluid:""}},[a("v-sheet",{attrs:{margin:"auto",elevation:"10"}},[a("Player",{key:t.combKey,ref:t.player,attrs:{urls:t.tracklist,conf:t.playerconf}})],1)],1)],1)],1)],1)],1)]:[a("v-app",{staticClass:"ma-0 pa-0"},[a("v-container",{staticClass:"ma-0 pa-0",attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",[a("v-container",[a("v-sheet",{attrs:{margin:"auto",elevation:"10"}},[a("Player",{key:t.combKey,ref:t.player,attrs:{urls:t.tracklist,conf:t.playerconf}})],1)],1)],1)],1)],1)],1)]],2)},gt=[],kt={name:"SharedPlayer",components:{Player:ot},data:function(){return{player:null,combKey:42,playerconf:{},trackstoload:[],tracklist:[]}},computed:{embed:function(){return"embed"===this.$route.params.embed}},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this,e=this.$route.params.id;Vt.collection("multitracks").doc(e).get().then((function(e){var a=e.data(),r=JSON.parse(JSON.stringify(a));t.playerconf=r,t.combKey=Math.ceil(1e4*Math.random());var o,n=[],l=Object(K["a"])(t.playerconf.streams.entries());try{for(l.s();!(o=l.n()).done;){var i=Object(F["a"])(o.value,2),s=i[0],c=i[1];n.push({name:c.name,color:c.color,customClass:"track"+s.toString(),solo:c.solo,mute:c.mute,src:c.url})}}catch(u){l.e(u)}finally{l.f()}t.tracklist=n}))}}},xt=kt,wt=(a("46a0"),Object(s["a"])(xt,bt,gt,!1,null,null,null)),_t=wt.exports;x()(wt,{VApp:w["a"],VCol:O["a"],VContainer:T["a"],VRow:L["a"],VSheet:pt["a"]});var St=a("8c4f");r["default"].use(St["a"]);var Ct=new St["a"]({mode:"history",routes:[{path:"/",name:"Home",component:R},{path:"/create",name:"Create",component:yt},{path:"/:id/:embed?",name:"SharedPlayer",component:_t}]});m["a"].initializeApp(h);var Vt=m["a"].firestore();r["default"].config.productionTip=!1,new r["default"]({vuetify:f,router:Ct,render:function(t){return t(u)}}).$mount("#app")},6131:function(t,e,a){"use strict";a("87c7")},"7e27":function(t,e,a){},"7faf":function(t,e,a){"use strict";a("7e27")},"87c7":function(t,e,a){},af4f:function(t,e,a){"use strict";a("053d")},f9fb:function(t,e,a){}});
//# sourceMappingURL=app.cd318262.js.map